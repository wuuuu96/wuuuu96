name: Metrics

on:                     # ğŸ‘ˆ è¿™é‡Œå®šä¹‰è§¦å‘æ¡ä»¶
  workflow_dispatch:    # å…è®¸ä½ åœ¨ç½‘é¡µç«¯æ‰‹åŠ¨ç‚¹å‡»è¿è¡Œ
  schedule:             # å®šæ—¶è¿è¡Œï¼ˆå¯é€‰ï¼‰
    - cron: "0 18 * * *"   # æ¯å¤© UTC 18:00 è¿è¡Œä¸€æ¬¡ï¼ˆåŒ—äº¬æ—¶é—´ 02:00ï¼‰

permissions:
  contents: write       # å…è®¸å†™å…¥ä»“åº“ï¼ˆå¿…é¡»åŠ ï¼Œå¦åˆ™ç”Ÿæˆæ–‡ä»¶æ—¶æŠ¥æƒé™é”™ï¼‰

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.GITHUB_TOKEN }}   # é»˜è®¤è‡ªå¸¦çš„ token
          filename: metrics.svg
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Shanghai
